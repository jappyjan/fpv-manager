import{d,R as a,r as c,j as e,P as j,N as b,e as g,f as k,I as m,g as R,L as f,h as p}from"./index-e705403d.js";import{u as v,F as B,L as n}from"./use-all-items-froms-collection-with-infinite-pagination.hook-48e72128.js";function y(t){const{result:[s]}=d.useRxData(a.BATTERY_PRODUCT_LINES,i=>i.findOne().where("id").equals(t.productLineId).and({manufacturer_id:t.manufacturerId})),{result:[u]}=d.useRxData(a.BATTERY_MANUFACTURERS,i=>i.findOne().where("id").equals(t.manufacturerId)),{items:l,fetchMore:h,isFetching:r,isExhausted:x,resetList:o}=v(a.BATTERIES),_=c.useCallback(async i=>{o(),i()},[o]),I=c.useMemo(()=>s?s.name.length<=15?s.name:s.name.substring(0,15)+"...":"not found...",[s]);return e.jsxs(j,{name:"battery-list",infinite:!x,onInfinite:h,ptr:!0,ptrMousewheel:!0,onPtrRefresh:_,children:[e.jsx(b,{backLink:u?u.name:"Back",children:e.jsxs(g,{children:[I,e.jsx(k,{popoverOpen:".title-click-popover-menu",style:{display:"inline"},children:e.jsx(m,{style:{marginLeft:".25rem"},ios:"f7:chevron_down",md:"material:chevron_down",size:"small"})})]})}),e.jsx(B,{position:"right-bottom",slot:"fixed",onClick:()=>t.f7router.navigate(`/battery_manufacturers/${t.manufacturerId}/product_lines/${t.productLineId}/batteries/__new__/edit`),children:e.jsx(m,{ios:"f7:plus",md:"material:add"})}),e.jsx(R,{className:"title-click-popover-menu",children:e.jsx(f,{children:e.jsx(p,{link:`/battery_manufacturers/${t.manufacturerId}/product_lines/${t.productLineId}/edit`,popoverClose:!0,title:"Edit Details"})})}),e.jsxs(f,{dividersIos:!0,outlineIos:!0,strongIos:!0,className:r?"skeleton-text":"",children:[!r&&l.length===0&&e.jsx(n,{title:"Add your first battery...",link:`/battery_manufacturers/${t.manufacturerId}/product_lines/${t.productLineId}/batteries/__new__/edit`}),r&&new Array(5).fill(0).map((i,L)=>e.jsx(n,{title:"Lorem Ipsum",link:"#"},L)),l.map(i=>e.jsx(n,{title:i.id,link:`/battery_manufacturers/${t.manufacturerId}/product_lines/${i.product_line_id}/batteries/${i.id}`},i.id))]})]})}export{y as default};
