import{r as n,k as v,Q as E,o as j,s as L,m as y,S as k,F as G,J as U,D as z,z as _,R as J,j as u,P as Q,N as W,I as Y,L as q}from"./index-e705403d.js";import{u as K,F as V,L as w}from"./use-all-items-froms-collection-with-infinite-pagination.hook-48e72128.js";import{N as X}from"./nav-title-large-c6ef2c7d.js";import{u as Z}from"./use-delete-battery-manufacturer.hook-20b1e76e.js";function N(){return N=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},N.apply(this,arguments)}const C=n.forwardRef((t,r)=>{const{className:e,id:s,style:o,children:l,simpleList:x,mediaList:h,sortable:c,sortableOpposite:d,sortableTapHold:p,sortableMoveElements:f}=t,a=v(t),i=n.useContext(E),m=n.useRef(null);n.useImperativeHandle(r,()=>({el:m.current}));const g=j(e,"list-group",{"media-list":h,sortable:c,"sortable-tap-hold":p,"sortable-opposite":d},L(t));return y.createElement("div",N({id:s,style:o,className:g,"data-sortable-move-elements":typeof f<"u"?f.toString():void 0,ref:m},a),y.createElement("ul",null,y.createElement(E.Provider,{value:{listIsMedia:h||i.listIsMedia,listIsSimple:x||i.listIsSimple,listIsSortable:c||i.listIsSortable,listIsSortableOpposite:d||i.listIsSortableOpposite}},l)))});C.displayName="f7-list-group";const ee=C;function O(){return O=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},O.apply(this,arguments)}const A=n.forwardRef((t,r)=>{const e=n.useRef(null),{className:s,id:o,style:l,children:x,init:h=!0,listEl:c,indexes:d="auto",scrollList:p=!0,label:f=!1,iosItemHeight:a=14,mdItemHeight:i=14}=t,m=v(t),g=n.useRef(null),b=()=>{e.current&&e.current.update()},R=I=>{e.current&&e.current.scrollListToIndex(I)};n.useImperativeHandle(r,()=>({el:g.current,f7ListIndex:()=>e.current,update:b,scrollListToIndex:R})),k(d,I=>{e.current&&(e.current.params.indexes=I,b())});const T=()=>{h&&U(()=>{e.current=z.listIndex.create({el:g.current,listEl:c,indexes:d,iosItemHeight:a,mdItemHeight:i,scrollList:p,label:f,on:{select(I,D,H){_(t,"listIndexSelect",D,H)}}})})},F=()=>{e.current&&e.current.destroy&&e.current.destroy(),e.current=null};G(()=>(T(),F),[]);const $=j(s,"list-index",L(t));return y.createElement("div",O({id:o,style:l,className:$,ref:g},m),x)});A.displayName="f7-list-index";const te=A;function M(){return M=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},M.apply(this,arguments)}const B=n.forwardRef((t,r)=>{const{className:e,id:s,style:o,children:l,left:x,right:h,side:c}=t,d=v(t),p=n.useRef(null);n.useImperativeHandle(r,()=>({el:p.current}));let f=c;f||(x&&(f="left"),h&&(f="right"));const a=j(e,`swipeout-actions-${f}`,L(t));return y.createElement("div",M({id:s,style:o,className:a,ref:p},d),l)});B.displayName="f7-swipeout-actions";const se=B;function S(){return S=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},S.apply(this,arguments)}const P=n.forwardRef((t,r)=>{const{className:e,id:s,style:o,children:l,text:x,confirmTitle:h,confirmText:c,overswipe:d,close:p,delete:f,href:a}=t,i=v(t),m=n.useRef(null),g=R=>{_(t,"click",R)};n.useImperativeHandle(r,()=>({el:m.current}));const b=j(e,{"swipeout-overswipe":d,"swipeout-delete":f,"swipeout-close":p},L(t));return y.createElement("a",S({ref:m,href:a||"#",id:s,style:o,"data-confirm":c||void 0,"data-confirm-title":h||void 0,className:b},i,{onClick:g}),l,x)});P.displayName="f7-swipeout-button";const re=P;function ne(t){return n.useMemo(()=>{if(!t.items)return[];const e=t.items.reduce((s,o)=>{const l=String(o[t.key]??"").charAt(0).toUpperCase();return s[l]||(s[l]=[]),s[l].push(o),s},{});return Object.entries(e).map(([s,o])=>({letter:s,items:o}))},[t]).sort((e,s)=>e.letter.localeCompare(s.letter))}function ue(t){const{items:r,isFetching:e,resetList:s,isExhausted:o,fetchMore:l}=K(J.BATTERY_MANUFACTURERS),x=n.useCallback(async a=>{s(),l(),typeof a=="function"&&a()},[l,s]),h=ne({items:r,key:"name"}),[c,d]=n.useState(0),p=Z(),f=n.useCallback(async a=>{d(c+1);try{await p(a)}catch(i){throw d(c+2),i}},[c,p,d]);return u.jsxs(Q,{name:"Battery Manufacturers",infinite:!o,onInfinite:l,ptr:!0,ptrMousewheel:!0,onPtrRefresh:x,children:[u.jsx(W,{large:!0,sliding:!1,children:u.jsx(X,{children:"Manufacturers"})}),u.jsx(V,{position:"right-bottom",slot:"fixed",onClick:()=>t.f7router.navigate("/battery_manufacturers/__new__/edit"),children:u.jsx(Y,{ios:"f7:plus",md:"material:add"})}),u.jsx(te,{indexes:"auto",listEl:".list.battery-manufacturers",scrollList:!0,label:!0}),u.jsxs(q,{dividersIos:!0,outlineIos:!0,strongIos:!0,className:"list battery-manufacturers"+(e?"skeleton-text":""),children:[!e&&r.length===0&&u.jsx(w,{title:"Add your first Manufacturer...",link:"/battery_manufacturers/__new__/edit"}),e&&new Array(5).fill(0).map((a,i)=>u.jsx(w,{title:"Lorem Ipsum",link:"#"},i)),h.map(({letter:a,items:i})=>u.jsxs(ee,{children:[u.jsx(w,{title:a,groupTitle:!0}),i==null?void 0:i.map(m=>u.jsx(w,{title:m.name,link:`/battery_manufacturers/${m.id}`,swipeout:!0,onSwipeoutDelete:()=>f(m.id),children:u.jsx(se,{right:!0,children:u.jsx(re,{delete:!0,overswipe:!0,children:"Delete"})})},m.id+"#"+c))]},a))]})]})}export{ue as default};
